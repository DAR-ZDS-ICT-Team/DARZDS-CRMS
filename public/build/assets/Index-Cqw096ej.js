import"./vue-multiselect.css_vue_type_style_index_0_src_true_lang-CRPPjZlv.js";import{A as j}from"./AppLayout-du08q5u_.js";import{_ as B}from"./Modal.vue_vue_type_script_setup_true_lang-BL3bRQe-.js";import{x as R,d as b,j as m,o as l,c as S,w as o,a as e,b as d,g as u,f as v,e as _,h as z,F as h,t as f,O as I,z as F,A as L}from"./app-BcgWRFmc.js";import{_ as E}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./dar-logo-BEVYNDow.js";const y=t=>(F("data-v-2c0e33fa"),t=t(),L(),t),M=y(()=>e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Division Sections ",-1)),P={class:"py-5"},T={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},q={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg"},G={class:"w-full"},H=y(()=>e("thead",{class:"font-bold text-center"},[e("th",{class:"pb-4 pt-6 px-6",colspan:"2"},"Division Sections"),e("th",{class:"pb-4 pt-6 px-6"},"Actions")],-1)),J={class:"border border-solid bg-blue-100"},K={class:"m5 p-5 border border-solid font-black",colspan:"2"},Q={key:0,class:"m5 p-5 border border-solid font-black text-center",colspan:"3"},U={class:"text-center p-2 border border-solid hover:bg-gray-100 focus-within:bg-gray-100"},W={class:"p-2 mr-2 border border-solid hover:bg-gray-100 focus-within:bg-gray-100"},X={class:"text-center px-4 py-2 p-2 mr-2 border border-solid"},Y={key:1},Z=y(()=>e("td",{colspan:"2"},null,-1)),ee={class:"text-center px-4 py-2 p-2 mr-2 border border-solid"},te={__name:"Index",props:{division_sections:Object,sub_sections:Object,user:Object},setup(t){const V=t,r=R({division_id:null,section_id:null}),x=async(n,i)=>{r.division_id=n,r.section_id=i,I.get("/csi",r,{preserveState:!0})},g=b(!1),k=b(""),w=b({}),C=async(n,i)=>{r.division_id=n,r.section_id=i,I.get("/csi/view",r,{preserveState:!0})},p=async(n,i,a)=>{g.value=n,k.value=i,a&&(w.value=a)};return(n,i)=>{const a=m("v-btn"),A=m("v-col"),$=m("v-row"),D=m("v-divider"),N=m("v-card");return l(),S(j,{title:"Dashboard"},{header:o(()=>[M]),default:o(()=>[e("div",P,[e("div",T,[e("div",q,[d(N,null,{default:o(()=>[d($,null,{default:o(()=>[t.user.account_type=="admin"?(l(),S(A,{key:0,class:"text-left m-5 mb-1"},{default:o(()=>[d(a,{onClick:i[0]||(i[0]=s=>p(!0,"add_new_division",null)),"prepend-icon":"mdi-plus",color:"primary",size:"small"},{default:o(()=>[u(" Add New Division ")]),_:1})]),_:1})):v("",!0),d(A,{class:"text-right m-5 mb-1"})]),_:1}),e("table",G,[H,t.division_sections?(l(!0),_(h,{key:0},z(t.division_sections.data,(s,se)=>(l(),_(h,{key:s.id},[e("tr",J,[e("td",K,f(s.division_name),1),t.user.account_type=="admin"?(l(),_("td",Q,[d(a,{onClick:c=>p(!0,"add_new_section",s),"prepend-icon":"mdi-plus",color:"primary",size:"small"},{default:o(()=>[u(" Add New Section ")]),_:2},1032,["onClick"])])):v("",!0)]),s.sections&&s.sections.length?(l(!0),_(h,{key:0},z(s.sections,(c,oe)=>(l(),_("tr",{key:c.id},[e("td",U,f(c.id),1),e("td",W,f(c.section_name),1),e("td",X,[e("div",null,[d(a,{"prepend-icon":"mdi-eye",class:"mr-3",size:"small",onClick:O=>C(s.id,c.id),disabled:t.user.account_type=="user"&&t.user.section_id!=c.id},{default:o(()=>[u(" View ")]),_:2},1032,["onClick","disabled"]),d(a,{onClick:O=>x(s.id,c.id),"prepend-icon":"mdi-file",color:"yellow",size:"small",disabled:t.user.account_type=="user"&&t.user.section_id!=c.id},{default:o(()=>[u(" Rating ")]),_:2},1032,["onClick","disabled"])])])]))),128)):(l(),_("tr",Y,[Z,e("td",ee,[e("div",null,[d(a,{"prepend-icon":"mdi-eye",class:"mr-3",size:"small",onClick:c=>C(s.id,""),disabled:t.user.account_type=="user"},{default:o(()=>[u(" View ")]),_:2},1032,["onClick","disabled"]),d(a,{onClick:c=>x(s.id),"prepend-icon":"mdi-file",color:"yellow",size:"small",disabled:t.user.account_type=="user"},{default:o(()=>[u(" Rating ")]),_:2},1032,["onClick","disabled"])])])]))],64))),128)):v("",!0)]),d(D,{thickness:1,class:"border-opacity-100 mb-5"})]),_:1})])])]),d(B,{value:g.value,action_clicked:k.value,account:n.account,selected_division:w.value,data:V,onInput:p,onReloadAccounts:n.reloadAccounts},null,8,["value","action_clicked","account","selected_division","data","onReloadAccounts"])]),_:1})}}},re=E(te,[["__scopeId","data-v-2c0e33fa"]]);export{re as default};
